<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>スタッフ注文管理 - グリッド形式</title>
<style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    background: #f9f9f9;
}
header {
    background: #222;
    color: white;
    padding: 15px;
    font-size: 20px;
    text-align: center;
}

/* メインレイアウト */
.main {
    display: flex;
    padding: 20px;
    gap: 20px;
}

/* テーブルグリッド */
.table-grid {
    display: grid;
    grid-template-columns: repeat(4, 100px);
    grid-auto-rows: 80px;
    gap: 15px;
}
.table {
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 6px;
    color: white;
    font-weight: bold;
    cursor: pointer;
    position: relative;
}
.table.empty { background: gray; }
.table.occupied { background: #007bff; }
.table.notification::after {
    content: "!";
    position: absolute;
    top: -5px;
    right: -5px;
    background: red;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-size: 14px;
}

/* サイドパネル */
.side-panel {
    width: 300px;
    background: #fff;
    border: 1px solid #ccc;
    border-radius: 6px;
    padding: 15px;
    max-height: 500px;
    overflow-y: auto;
}
.side-panel h3 {
    margin-top: 0;
    border-bottom: 1px solid #ccc;
    padding-bottom: 5px;
}

/* 注文アイテム */
.order-item {
    display: flex;
    justify-content: space-between;
    margin: 8px 0;
    padding-bottom: 5px;
    border-bottom: 1px solid #eee;
}
.status-order { color: black; }
.status-warning { color: #28a745; }
.status-alert { color: #dc3545; }
.status-delivered { text-decoration: line-through; color: gray; }

button {
    padding: 2px 6px;
    background: #007bff;
    color: white;
    border: none;
    border-radius: 3px;
    font-size: 12px;
    cursor: pointer;
}
button:hover { background: #0056b3; }
</style>
</head>
<body>

<header>スタッフ注文管理（グリッド形式）</header>

<div class="main">
    <!-- テーブルグリッド -->
    <div class="table-grid">
        <div class="table occupied notification" data-id="1">#1</div>
        <div class="table occupied" data-id="2">#2</div>
        <div class="table empty" data-id="3">#3</div>
        <div class="table occupied notification" data-id="4">#4</div>
        <div class="table empty" data-id="5">#5</div>
        <div class="table occupied" data-id="6">#6</div>
        <div class="table empty" data-id="7">#7</div>
        <div class="table occupied" data-id="8">#8</div>
    </div>

    <!-- サイドパネル -->
    <div class="side-panel" id="sidePanel">
        <h3>テーブル詳細</h3>
        <p>テーブルを選択してください</p>
    </div>
</div>

<script>
// 注文データ（HTML内に直接対応するテーブルIDをキーとして定義）
const ordersData = {
    1: [{name:'ラーメン', status:'order'},{name:'餃子', status:'order'}],
    2: [{name:'チャーハン', status:'order'}],
    4: [{name:'唐揚げ', status:'order'}],
    6: [{name:'ハンバーグ', status:'order'}]
};

const tables = document.querySelectorAll('.table');
const panel = document.getElementById('sidePanel');

tables.forEach(table=>{
    table.addEventListener('click', ()=>{
        const id = table.getAttribute('data-id');
        panel.innerHTML = `<h3>テーブル #${id}</h3>`;
        const orders = ordersData[id];
        if(!orders || orders.length === 0){
            panel.innerHTML += "<p>注文なし</p>";
        } else {
            orders.forEach((o, idx)=>{
                const div = document.createElement('div');
                div.classList.add('order-item');
                div.innerHTML = `<span>${o.name}</span> <button>渡し済み</button>`;
                // 渡し済みボタンでステータス変更
                div.querySelector('button').addEventListener('click', ()=>{
                    o.status='delivered';
                    div.classList.add('status-delivered');
                });
                panel.appendChild(div);
            });
        }
    });
});
</script>

</body>
</html>
